if(WIN32)
    add_library(net net/sockets_win32.cpp)
elseif(UNIX)
    add_library(net net/sockets_unix.cpp)
else()
    message(FATAL_ERROR "Unsupported platform ${CMAKE_SYSTEM_NAME}")
endif()

add_executable(main main.cpp)
add_executable(client client.cpp)
target_link_libraries(main net)
target_link_libraries(client net)
